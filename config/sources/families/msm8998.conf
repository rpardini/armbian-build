export LINUXFAMILY=msm8998
export ARCH=arm64
export KERNELSOURCE='https://github.com/JamiKettunen/linux-mainline-oneplus5'

# Bootloader related, ripped from pmos deviceinfo file. @TODO: create a fragment that imports those from a deviceinfo URL (with caching)
export deviceinfo_kernel_cmdline="androidboot.hardware=qcom user_debug=31 msm_rtb.filter=0x37 ehci-hcd.park=3 lpm_levels.sleep_disabled=1 sched_enable_hmp=1 sched_enable_power_aware=1 service_locator.enable=1 swiotlb=2048 androidboot.usbconfigfs=true androidboot.usbcontroller=a800000.dwc3 firmware_class.path=/vendor/firmware_mnt/image loop.max_part=7 ramoops.mem_address=0xac000000 ramoops.mem_size=0x200000 ramoops.console_size=0x40000"
export deviceinfo_flash_offset_base="0x00000000"
export deviceinfo_flash_offset_kernel="0x00008000"
export deviceinfo_flash_offset_ramdisk="0x01000000"
export deviceinfo_flash_offset_second="0x00f00000"
export deviceinfo_flash_offset_tags="0x00000100"
export deviceinfo_flash_pagesize="4096"
export deviceinfo_flash_sparse="true"

case $BRANCH in
current)
	KERNELBRANCH='branch:v5.10-lts'
	KERNELDIR='linux-msm8998-v510lts'
	;;
edge)
	KERNELBRANCH='branch:v5.11'
	KERNELDIR='linux-msm8998'
	;;
esac

# Activate needed fragments for this family.
# Fragment order is not important
add_fragment "fastboot_image"
add_fragment "initramfs_usb_gadget"


family_tweaks() {
	:
}

uboot_custom_postprocess() {
	:
}
